/* ============================================================
   CHECKOUT — Estilos específicos de la página de checkout
   Cubre: grid principal, formulario de contacto, dropdowns
   personalizados, acordeón, políticas, consentimientos y
   botón de confirmación final.
   ============================================================ */


/* ============================================================
   1. GRID PRINCIPAL DEL CHECKOUT
   ============================================================ */

/* Mismo patrón de dos columnas que booking-layout.css (1fr + 300px sidebar)
   pero con gap más amplio (50px vs 30px) para dar más aire al formulario.
   align-items: start permite que el carrito sidebar sea sticky
   sin estirarse a la altura total del formulario. */
.checkout-main-grid {
    display: grid;
    grid-template-columns: 1fr 300px;
    gap: 50px;
    align-items: start;
    padding-top: 30px;
    padding-bottom: 30px;
}


/* ============================================================
   2. CABECERA DE LA PÁGINA
   ============================================================ */

/* Fila con flecha de retorno + título: flex para alinear
   ambos elementos verticalmente con separación fija */
.checkout-page-header {
    display: flex;
    align-items: center;
    gap: 15px;
}

/* Enlace de retorno sin decoración; transform en hover proporciona
   retroalimentación visual sin ocupar espacio adicional */
.btn-back {
    display: flex;
    align-items: center;
    color: #000;
    text-decoration: none;
    transition: transform 0.3s ease;
}

/* Peso ligero (300) para el título principal, coherente con la
   estética minimalista japonesa del ryokan */
.checkout-main-title {
    font-size: 26px;
    font-weight: 300; 
    margin: 0;
    color: #000;
}


/* ============================================================
   3. CONTENEDOR DEL FORMULARIO
   ============================================================ */

/* Bloque con borde dorado característico del sistema de diseño Miyabi;
   actúa como tarjeta visual para cada sección del formulario */
.checkout-form-container { 
    background: #fff; 
    border: 1px solid #DDCFB2;
    padding: 15px;
}

/* Cabecera de sección: título a la izquierda y texto "* Obligatorio"
   a la derecha, alineados en la línea de base mediante align-items: flex-end */
.checkout-section-header {
    display: flex; 
    justify-content: space-between; 
    align-items: flex-end; 
    margin-bottom: 10px;
    padding-bottom: 10px;
}

/* Jerarquía tipográfica de los títulos del formulario */
.checkout-section-title { font-size: 22px; font-weight: normal; margin: 0; }
.checkout-subsection-title { font-size: 14px; font-weight: 500; letter-spacing: 1px; text-transform: uppercase; margin: 35px 0 15px 0; }
.checkout-required-text { font-size: 14px; color: #000; margin: 0; }
/* Asterisco de campo obligatorio en rojo para seguir la convención universal de formularios */
.req-star { color: #B30000; margin-left: 3px; font-weight: bold; }


/* ============================================================
   4. SISTEMA DE GRID INTERNO DEL FORMULARIO
   ============================================================ */

/* flex-wrap permite que las columnas salten a la siguiente fila
   automáticamente sin necesidad de CSS Grid, simplificando
   la gestión de columnas de distintos anchos */
.form-grid { display: flex; flex-wrap: wrap; gap: 15px; margin-bottom: 15px; }
.form-col { display: flex; flex-direction: column; }

/* Patrón de input con borde completo (border-box):
   la etiqueta y el valor viven dentro de la misma caja delimitada,
   consiguiendo un diseño compacto y elegante sin línea inferior aislada.
   position: relative es necesario para anclar el dropdown personalizado
   (.custom-dropdown-list) que usa position: absolute. */
.input-box {
    border: 1px solid #000;
    padding: 6px 12px 8px 12px;
    background: #fff;
    display: flex;
    flex-direction: column;
    justify-content: center;
    height: 100%;
    box-sizing: border-box;
    position: relative;
    transition: border-color 0.2s;
}

/* :focus-within aplica el estilo de foco a toda la caja cuando
   cualquier elemento hijo (input, textarea) recibe el foco,
   sin necesidad de JS para detectar el estado activo */
.input-box:focus-within { border-color: #000; } 

.input-box label {
    font-size: 12px;
    color: #333;
    margin-bottom: 2px;
    cursor: text;
}

/* El input hereda el fondo transparente de .input-box y elimina
   todos los bordes nativos del navegador para integrarse visualmente
   dentro de la caja contenedora */
.form-input {
    border: none;
    padding: 0;
    font-size: 15px;
    color: #000;
    background: transparent;
    width: 100%;
    font-family: inherit;
}

.form-input:focus { outline: none; }
.form-helper { font-size: 11px; color: #000; margin-top: 5px; }

/* Elimina la flecha nativa del select en todos los navegadores
   para reemplazarla por el indicador personalizado de .select-wrapper::after */
select.form-input {
    appearance: none;
    -webkit-appearance: none;
    cursor: pointer;
}

/* Indicador visual de dropdown (▼) implementado con pseudoelemento
   para evitar depender de un icono SVG externo.
   pointer-events: none evita que capture clics destinados al input subyacente. */
.select-wrapper::after {
    content: "▼";
    font-size: 10px;
    position: absolute;
    right: 15px;
    top: 50%;
    transform: translateY(-50%);
    pointer-events: none;
}


/* ============================================================
   5. TAMAÑOS DE COLUMNA DEL FORM-GRID
   ============================================================ */

/* Columna pequeña (18%) y grande (82%) para campos con proporciones asimétricas
   como prefijo telefónico + número. calc() descuenta el gap de 15px. */
.small-col { width: 18%; }
.large-col { width: calc(82% - 15px); }
/* La mitad del ancho disponible descontando la mitad del gap entre columnas */
.half-col { width: calc(50% - 7.5px); }
.full-col { width: 100%; }


/* ============================================================
   6. ACORDEÓN DE PETICIONES ESPECIALES
   ============================================================ */

/* Cabecera del acordeón: título y chevron en los extremos opuestos.
   JS rota el chevron y hace toggle de .hidden en .accordion-content */
.accordion-box {
    border: 1px solid #000;
    padding: 15px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    cursor: pointer;
}
.accordion-box span { font-size: 15px; }

/* El contenido del acordeón elimina el borde superior para fusionarse
   visualmente con la caja cabecera y formar un único bloque cohesivo */
.accordion-content {
    border: 1px solid #000;
    border-top: none; 
    background: #fff;
}

/* Estado colapsado: controlado por JS mediante toggle de esta clase */
.accordion-content.hidden {
    display: none;
}

/* El textarea sobreescribe los estilos base de .form-input para añadir
   su propio borde y permitir redimensionado vertical por el usuario */
textarea.form-input {
    resize: vertical;
    border: 1px solid #000; 
    padding: 15px;
    font-size: 14px;
    color: #333;
    line-height: 1.5;
}

textarea.form-input:focus {
    border-color: #000;
}


/* ============================================================
   7. RESPONSIVE — Móvil (≤ 768px)
   Todas las columnas de ancho variable colapsan al 100% del
   ancho disponible para evitar campos demasiado estrechos.
   ============================================================ */
@media (max-width: 768px) {
    .small-col, .large-col, .half-col { width: 100%; }
}


/* ============================================================
   8. DROPDOWN PERSONALIZADO (PAÍS Y MÉTODO DE PAGO)
   ============================================================ */

/* El dropdown flota sobre el contenido (position: absolute + z-index: 100)
   anclado al borde inferior de .input-box (position: relative).
   left/right con -1px compensa el borde del contenedor para alineación perfecta.
   max-height + overflow-y activan el scroll para listas largas (ej. países). */
.custom-dropdown-list {
    position: absolute;
    top: 100%; 
    left: -1px;
    right: -1px;
    background: #fff;
    border: 1px solid #000;
    z-index: 100;
    max-height: 250px;
    overflow-y: auto;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}

/* Estado oculto del dropdown: controlado por JS */
.custom-dropdown-list.hidden {
    display: none;
}

.custom-option {
    padding: 10px 15px;
    font-size: 14px;
    color: #000;
    cursor: pointer;
    transition: background 0.2s;
}

.custom-option:hover {
    background: #f5f5f5;
}

/* Separador punteado entre grupos de opciones del dropdown */
.custom-divider {
    border-bottom: 1px dashed #999;
    margin: 5px 15px;
}

/* Scrollbar personalizada para el dropdown: solo funciona en navegadores
   basados en WebKit/Blink (Chrome, Safari, Edge). Firefox usa scrollbar-width. */
.custom-dropdown-list::-webkit-scrollbar {
    width: 8px;
}
.custom-dropdown-list::-webkit-scrollbar-track {
    background: #f1f1f1; 
}
.custom-dropdown-list::-webkit-scrollbar-thumb {
    background: #ccc; 
    border-radius: 4px;
}
.custom-dropdown-list::-webkit-scrollbar-thumb:hover {
    background: #999; 
}


/* ============================================================
   9. UTILIDADES Y AUXILIARES DEL FORMULARIO
   ============================================================ */

/* Margen superior amplio para separar visualmente secciones
   del formulario sin necesidad de elementos separadores adicionales */
.section-title-spaced {
    margin-top: 40px;
    margin-bottom: 20px;
}

.accordion-inner-padding {
    padding: 20px;
}

/* Contenedor para títulos de sección que incluyen un icono SVG a su izquierda
   (ej. candado en la sección de Pago); flex con gap alinea icono y texto */
.icon-header-wrapper {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-top: 40px;
    margin-bottom: 10px;
}

/* Resetea el margen del título cuando va acompañado de icono,
   ya que el espaciado lo gestiona el gap del wrapper */
.icon-header-title {
    margin: 0;
    font-size: 20px;
}

.security-notice {
    font-size: 13px;
    color: #333;
    margin-bottom: 20px;
}

/* Indica al cursor que el elemento completo es interactivo,
   usado en wrappers de dropdowns donde el input interno es readonly */
.clickable-box {
    cursor: pointer;
}


/* ============================================================
   10. CAJA DE POLÍTICAS DEL HOTEL
   ============================================================ */

/* Fondo gris claro para diferenciar visualmente el bloque de políticas
   del resto del formulario, señalando que es información informativa y no editable */
.policies-box {
    background-color: #F2F2F2;
    padding: 15px;
    color: #000;
}

/* Horarios de check-in y check-out en fila con separación amplia
   para facilitar la lectura de los dos datos de un solo vistazo */
.policies-times {
    display: flex;
    gap: 70px;
    margin-bottom: 20px;
}

.time-block strong {
    font-size: 15px;
}

.time-block span {
    font-size: 14px;
    font-weight: 600;
    color: #333;
}

/* Nombre de la habitación seleccionada: en mayúsculas para dar
   énfasis como dato de referencia clave de la reserva */
.policy-room-name {
    font-size: 14px;
    font-weight: 500;
    text-transform: uppercase;
    margin-bottom: 15px;
    color: #000;
}

.policy-text {
    font-size: 14px;
    font-weight: 600;
    line-height: 1.5;
    margin-bottom: 15px;
    color: #000;
}

/* Elimina el margen inferior del último párrafo de política
   para que no haya espacio extra antes del borde del contenedor */
.last-policy {
    margin-bottom: 0;
}


/* ============================================================
   11. SECCIÓN DE CONSENTIMIENTOS Y CHECKBOXES
   ============================================================ */

/* Apila los tres checkboxes verticalmente con separación uniforme */
.acknowledgement-group {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

/* align-items: flex-start alinea el checkbox con la primera línea del texto,
   en lugar de centrarlo verticalmente cuando el texto ocupa varias líneas */
.checkbox-label {
    display: flex;
    align-items: flex-start; 
    gap: 12px;
    cursor: pointer;
}

/* margin-top: 2px en el checkbox compensa ópticamente la altura de línea
   del texto para lograr alineación visual con la primera línea */
.custom-checkbox {
    margin-top: 2px; 
    width: 18px;
    height: 18px;
    cursor: pointer;
}

.checkbox-text {
    font-size: 15px;
    color: #000;
    line-height: 1.4;
}

/* Color dorado corporativo para el enlace a la política de privacidad,
   coherente con todos los enlaces de acción secundaria del flujo */
.policy-link {
    color: #7A5D23; 
    text-decoration: underline;
    font-size: 14px;
    transition: color 0.3s;
}


/* ============================================================
   12. BOTÓN DE CONFIRMACIÓN FINAL
   ============================================================ */

/* Alinea el botón al extremo derecho del formulario para seguir
   el patrón visual de progresión izquierda → derecha del flujo */
.confirm-action-container {
    display: flex;
    justify-content: flex-end;
    margin-top: 30px;
}

/* Ancho fijo de 250px para que el botón tenga presencia visual
   sin ocupar toda la fila; flex interno centra texto e icono */
.confirm-action-container .btn-checkout-final {
    width: 250px; 
    padding: 15px 20px;
    display: flex;
    justify-content: center; 
    align-items: center;
    gap: 10px;
    background-color: #000;
    color: #fff;
    border: none;
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    transition: background-color 0.3s;
}

/* Estado deshabilitado: gris neutro que indica visualmente que
   la acción no está disponible hasta completar los campos requeridos */
.confirm-action-container .btn-checkout-final:disabled {
    background-color: #e0e0e0;
    color: #999;
    cursor: not-allowed;
}

/* El icono SVG del candado también cambia de color al estado deshabilitado
   para mantener la coherencia visual entre texto e icono */
.confirm-action-container .btn-checkout-final:disabled svg {
    stroke: #999;
}


/* ============================================================
   13. SNACKBAR DE NOTIFICACIÓN DE ÉXITO
   ============================================================ */

/* Notificación alternativa al toast de globalBooking.js, específica
   del checkout. Misma técnica de centrado: left: 50% + marginLeft negativo
   de la mitad del ancho mínimo (300px / 2 = 150px).
   Estado inicial: invisible y desplazado 100% hacia arriba del viewport,
   preparado para la animación de entrada al añadir la clase .show. */
#miyabi-snackbar {
    visibility: hidden;
    min-width: 300px;
    margin-left: -150px;
    background-color: #000;
    color: #fff;
    text-align: center;
    /* Bordes redondeados solo en la parte inferior para simular
       que el snackbar desciende desde el borde superior de la pantalla */
    border-radius: 0 0 4px 4px; 
    padding: 16px 24px;
    position: fixed;
    z-index: 9999;
    left: 50%;
    top: 0;          
    font-size: 15px;
    font-weight: 500;
    box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    opacity: 0;
    transform: translateY(-100%); 
    transition: opacity 0.4s ease, transform 0.4s ease, visibility 0.4s;
}

/* Estado visible: JS añade esta clase para activar la animación de entrada.
   translateY(20px) desplaza el snackbar ligeramente hacia abajo del borde
   superior para que no quede pegado al borde de la ventana */
#miyabi-snackbar.show {
    visibility: visible;
    opacity: 1;
    transform: translateY(20px); 
}