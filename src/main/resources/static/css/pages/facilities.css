/* =============================================================================
   FACILITIES.CSS
   Estilos específicos para la página de instalaciones (facilities).
   Arquitectura:
     1. Barra indicadora lateral (Scroll Spy)
     2. Sección de introducción
     3. Secciones de instalaciones repetibles
     4. Componente reutilizable: enlace con flecha (miyabi-link-btn)
   Depende de las variables globales definidas en global.css
   (--color-black, --font-main).
   ============================================================================= */


/* =============================================================================
   1. BARRA INDICADORA LATERAL — Scroll Spy
   Elemento fijo en el borde izquierdo de la ventana que indica visualmente
   el progreso de scroll del usuario dentro de la página.
   Composición:
     - .scroll-indicator  → contenedor fijo, define posición en pantalla
     - .indicator-track   → pista de fondo (línea gris delgada, estática)
     - .indicator-thumb   → grupo deslizante (línea negra + etiqueta de texto)
                            su posición vertical se actualiza vía JS con transform
     - .indicator-active-line → segmento negro que representa la posición actual
     - .indicator-text    → etiqueta descriptiva de la sección activa
   ============================================================================= */

.scroll-indicator {
    position: fixed;
    left: 20px;
    top: 40%;
    /* Compensa el propio height del contenedor para centrarlo visualmente
       respecto al punto de anclaje (top: 40%) */
    transform: translateY(-50%);
    height: 200px; /* Altura total de la pista gris */
    z-index: 100;
    transition: opacity 0.4s ease;
}

/* Línea de fondo estática que actúa como "riel" del indicador */
.indicator-track {
    position: relative;
    height: 100%;
    width: 1px;
    background-color: #D2D2D1;
}

/* Grupo deslizante controlado por JS mediante translateY().
   Combina la línea activa y el texto en un único elemento móvil
   para simplificar la animación: basta con mover este contenedor. */
.indicator-thumb {
    position: absolute;
    top: 0;
    left: 0.5px; /* Centra visualmente la línea negra (2px) sobre la gris (1px) */
    display: flex;
    align-items: center;
    gap: 10px;
    /* Optimización de rendimiento: avisa al navegador que este elemento
       cambiará su transform, evitando repaints innecesarios en el scroll */
    will-change: transform; 
}

/* Segmento negro que marca la posición actual del usuario en la página */
.indicator-active-line {
    width: 1px;
    height: 28.5px;
    background-color: var(--color-black);
}

/* Etiqueta de texto junto al indicador.
   max-width + white-space: normal evitan que nombres de sección largos
   desborden fuera del área visible del viewport izquierdo. */
.indicator-text {
    font-size: 10px;
    letter-spacing: 1px;
   	white-space: normal;
	width: max-content;
	max-width: 120px;
	line-height: 1.4;
    color: var(--color-black);
}


/* =============================================================================
   2. SECCIÓN DE INTRODUCCIÓN
   Layout híbrido: el título (imagen kanji + texto) flota en la esquina
   superior izquierda mediante position: absolute, mientras que el párrafo
   descriptivo se centra horizontalmente con flexbox.
   Esto permite que ambos elementos compartan el mismo espacio vertical
   sin desplazarse mutuamente, logrando la superposición editorial típica
   del estilo Mukayu.
   ============================================================================= */

.fac-intro {
    position: relative; /* Contexto de posicionamiento para .fac-intro-left */
    display: flex;
    justify-content: center; /* Centra el párrafo horizontalmente */
    padding: 60px 0 70px 0;
}

/* Grupo título (kanji + texto) anclado arriba a la izquierda.
   Se saca del flujo normal con position: absolute para que no empuje
   al párrafo central y ambos convivan en el mismo bloque vertical. */
.fac-intro-left {
    position: absolute;
    top: 30px;
    left: 0;
    display: flex;
    flex-direction: row; /* Coloca la imagen kanji y el título en línea horizontal */
    align-items: center; /* Alinea verticalmente el texto con el centro del kanji */
    gap: 20px;
}

/* Imagen SVG con el nombre de la sección en japonés */
.fac-jp-img {
    width: 20px;
    height: auto;
}

.fac-title {
    font-size: 16px;
    font-weight: 500;
    letter-spacing: 2px;
    margin: 0;
}

/* Párrafo de introducción centrado.
   margin-top crea la separación necesaria respecto al título absoluto,
   evitando que el texto quede superpuesto con él. */
.fac-intro-right {
    width: 60%;
    max-width: 600px;
    margin-top: 60px;
}

.fac-intro-right p {
    font-size: 21px;
	font-weight: 500;
	letter-spacing: 1px;
    line-height: 1.6;
}


/* =============================================================================
   3. SECCIONES DE INSTALACIONES REPETIBLES
   Cada instalación (onsen, comedor, jardín…) sigue el mismo patrón de dos
   columnas: texto descriptivo a la izquierda (23%) y carrusel de imágenes
   a la derecha (77%).
   El carrusel usa apilamiento de imágenes con position: absolute + opacity
   para lograr un efecto de crossfade sin alterar el flujo del documento.
   ============================================================================= */

/* Contenedor de cada bloque instalación.
   align-items: start impide que la columna de texto se estire hasta la
   altura de la imagen, preservando la alineación editorial en la parte superior. */
.fac-section {
    display: flex;
    justify-content: space-between;
    align-items: start;
    padding: 100px 0;
    gap: 80px;
}

/* --- Columna de texto --- */

/* padding-top desplaza el bloque de texto hacia abajo para alinearlo
   visualmente con la zona media de la imagen, en lugar de pegarse al tope. */
.fac-text-col {
    width: 23%;
    display: flex;
	padding-top: 50px;
    flex-direction: column;
}

.fac-section-title {
    font-size: 18px;
    font-weight: 500;
    letter-spacing: 1px;
}

/* Separador decorativo corto que actúa como divisor entre título y párrafo */
.fac-divider {
    width: 30px;
    height: 1px;
    background-color: var(--color-black);
    margin: 25px 0;
}

.fac-text-col p {
    font-size: 16px;
    line-height: 1.7;
	font-weight: 500;
}

/* --- Columna de carrusel --- */

/* aspect-ratio fija las proporciones del contenedor independientemente
   de su ancho real, garantizando que todas las instalaciones tengan
   imágenes del mismo alto relativo al ancho disponible. */
.fac-carousel {
    width: 77%;
    position: relative; /* Contexto de posicionamiento para los .slide absolutos */
    aspect-ratio: 16 / 10;
    overflow: hidden;
    cursor: pointer;
}

/* Todas las diapositivas se apilan en el mismo espacio usando
   position: absolute. La visibilidad se gestiona únicamente con opacity,
   lo que permite el crossfade suave sin cambios de layout. */
.fac-carousel .slide {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    opacity: 0;
    transition: opacity 1.3s ease-in-out;
    /* Evita que las imágenes ocultas (opacity: 0) capturen eventos de ratón
       y bloqueen el click destinado al carrusel */
    pointer-events: none;
}

/* La clase .active, añadida/removida por JS, determina qué diapositiva
   es visible en cada momento */
.fac-carousel .slide.active {
    opacity: 1;
}


/* =============================================================================
   4. COMPONENTE REUTILIZABLE — Enlace con flecha (miyabi-link-btn)
   Botón de navegación de estilo editorial, compuesto por texto + icono SVG.
   Diseñado para reutilizarse en cualquier sección que necesite un CTA sutil.
   La animación del icono (hover) debe activarse desde JS o con :hover en CSS.
   ============================================================================= */

.miyabi-link-btn {
    display: inline-flex;
    align-items: center;
    gap: 10px;
    text-decoration: none;
    color: var(--color-black);
    cursor: pointer;
    /* Separación respecto al bloque de contenido anterior.
       Se usa margin-top en lugar de padding para no afectar el área clicable. */
    margin-top: 50px;
    /* width: fit-content evita que el elemento ocupe todo el ancho del
       contenedor padre, limitando el área interactiva al tamaño real del botón */
    width: fit-content; 
}

.link-btn-text {
    font-family: var(--font-main);
    font-size: 16px;
    font-weight: 400;
}

/* Icono SVG de la flecha.
   cubic-bezier(0.25, 1, 0.5, 1) produce un movimiento que arranca rápido
   y frena suavemente, imitando la física de un resorte amortiguado.
   El desplazamiento real en hover (translateX) debe definirse en la
   regla :hover correspondiente o gestionarse desde JS. */
.link-btn-icon {
    width: 20px; 
    height: auto;
    transition: transform 0.4s cubic-bezier(0.25, 1, 0.5, 1); 
}